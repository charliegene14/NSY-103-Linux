<!DOCTYPE html> <html><head>
		<title>2. Utilisation</title>
		<base href="./">
		<meta id="root-path" root-path="./">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="NSY103 - DENIER Charlie - 2. Utilisation">
		<meta property="og:title" content="2. Utilisation">
		<meta property="og:description" content="NSY103 - DENIER Charlie - 2. Utilisation">
		<meta property="og:type" content="website">
		<meta property="og:url" content="2.-utilisation.html">
		<meta property="og:image" content="_assets_/capture-d’écran-2025-02-12-à-13.28.10.png">
		<meta property="og:site_name" content="NSY103 - DENIER Charlie">
		<meta name="author" content="DENIER Charlie"><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script type="module" async="" id="graph-view-script" src="lib/scripts/graph-view.js"></script><script async="" id="graph-wasm-script" src="lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="tinycolor-script" src="lib/scripts/tinycolor.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="pixi-script" src="lib/scripts/pixi.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="lib/scripts/minisearch.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><script async="" id="graph-data-script" src="lib/scripts/graph-data.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/other-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/other-plugins.css"></noscript><link rel="stylesheet" href="lib/styles/theme.css"><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/supported-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/supported-plugins.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript><link rel="preload" href="lib/styles/snippets.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/snippets.css"></noscript></head><body class="publish css-settings-manager native-scrollbars theme-light show-ribbon ctp-latte ctp-mocha ctp-accent-rosewater anuppuccin-accent-toggle anp-latex-inline-text anp-latex-block-text anp-hide-external-link-icon anp-h1-red anp-h2-peach anp-h3-green anp-h4-teal anp-h5-lavender anp-h6-mauve anp-bold-red anp-italic-green anp-highlight-yellow"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles"></style><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading" id="2. Utilisation">2. 
Utilisation
</h1><div class="el-h2 heading-wrapper"><h2 data-heading="Préparation" dir="auto" class="heading" id="Préparation"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Préparation</h2><div class="heading-children"><div class="el-hr"><hr></div><div class="el-p"><p dir="auto">Pour mieux suivre ce guide, il est possible de préparer maintenant les différentes consoles qui seront utilisées.</p></div><div class="el-p"><p dir="auto"><strong>2 consoles scindées horizontalement</strong> : ces deux consoles permettront de suivre les deux processus principaux : </p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto">le serveur</li>
<li data-line="1" dir="auto">l'interface de gestion de clients</li>
</ul></div><div class="el-p"><p dir="auto"><span alt="Capture d’écran 2025-02-12 à 13.28.10.png" src="Capture d’écran 2025-02-12 à 13.28.10.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Capture d’écran 2025-02-12 à 13.28.10.png" src="_assets_/capture-d’écran-2025-02-12-à-13.28.10.png"></span></p></div><div class="el-p"><p dir="auto"><strong>1 console de suivi de logs</strong> : celle-ci permettra de visionner les logs principaux du serveur, permettant de vérifier les tâches de création de philosophes et de baguettes, et les adresses mémoire utilisées.</p></div><div class="el-p"><p dir="auto"><strong>5 consoles scindées horizontalement</strong> : il y aura un fichier de log à suivre par philosophe, tous gérés parallèlement, pour visionner dynamiquement leur état côté serveur.</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Démarrer le serveur" dir="auto" class="heading" id="Démarrer_le_serveur"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Démarrer le serveur</h2><div class="heading-children"><div class="el-hr"><hr></div><div class="el-p"><p dir="auto">Pour démarrer le processus serveur principal, depuis la racine du projet, utiliser la commande suivante pour compiler le fichier et l'exécuter immédiatement dans la première console : </p></div><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded"><span class="token builtin class-name">cd</span> src <span class="token operator">&amp;&amp;</span> gcc server.c <span class="token parameter variable">-o</span> ./server <span class="token operator">&amp;&amp;</span> ./server
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">Une fois lancé, il reste à l'écoute de connexions clients. </p></div><div class="el-p"><p dir="auto"><span alt="Capture d’écran 2025-02-11 à 22.09.29.png" src="Capture d’écran 2025-02-11 à 22.09.29.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Capture d’écran 2025-02-11 à 22.09.29.png" src="_assets_/capture-d’écran-2025-02-11-à-22.09.29.png"></span></p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Visionner les logs serveur" dir="auto" class="heading" id="Visionner_les_logs_serveur"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Visionner les logs serveur</h2><div class="heading-children"><div class="el-hr"><hr></div><div class="el-p"><p dir="auto">Une première indication est donnée concernant les logs, il est possible de copier-coller la commande <code>tail</code> donnée dans une autre console (la deuxième sur les cinq préparées) pour suivre les logs d'information du serveur en direct. Le fichier concerné fait partie intégrante de la <a data-tooltip-position="top" aria-label="4. Arborescence" data-href="4. Arborescence" href="4.-arborescence.html" class="internal-link" target="_self" rel="noopener nofollow">structure du projet</a>.</p></div><div class="el-p"><p dir="auto">Ou plus simplement, depuis la racine du projet et dans l'autre console, faire la commande suivante : </p></div><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded"><span class="token function">tail</span> <span class="token parameter variable">-f</span> logs/server.log
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Démarrer le client principal" dir="auto" class="heading" id="Démarrer_le_client_principal"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Démarrer le client principal</h2><div class="heading-children"><div class="el-hr"><hr></div><div class="el-p"><p dir="auto">Depuis la racine du projet, dans un troisième terminal, la commande suivante permet de compiler et exécuter le processus de gestion des clients. </p></div><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded"><span class="token builtin class-name">cd</span> src <span class="token operator">&amp;&amp;</span> gcc main.c <span class="token parameter variable">-o</span> ./main <span class="token operator">&amp;&amp;</span> ./main
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">Il permettra ensuite d'ajouter des philosophes à la volée.</p></div><div class="el-p"><p dir="auto"><span alt="Capture d’écran 2025-02-11 à 22.22.44.png" src="Capture d’écran 2025-02-11 à 22.22.44.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Capture d’écran 2025-02-11 à 22.22.44.png" src="_assets_/capture-d’écran-2025-02-11-à-22.22.44.png"></span></p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Ajouter des philosophes" dir="auto" class="heading" id="Ajouter_des_philosophes"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Ajouter des philosophes</h2><div class="heading-children"><div class="el-hr"><hr></div><div class="el-p"><p dir="auto">Une fois le processus de gestion de client lancé, on voit plusieurs choses : </p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto">Le nombre de philosophes autour de la table (0)</li>
<li data-line="1" dir="auto">Le maximum possible (7, configuré dans <a href="doxygen/maxmin__philosophers_8h.html" target="_blank" rel="noopener nofollow">maxmin_philosophers.h</a></li>
<li data-line="2" dir="auto">Le nombre de places restantes (7)</li>
</ul></div><div class="el-p"><p dir="auto">Il est maintenant possible d'écrire deux types de commandes : </p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto"><code>/add NOMBRE</code> : pour ajouter le nombre de philosophes souhaités. Il est possible d'en ajouter 2, puis 3, puis 1 etc. Jusqu'à la limite autorisée.</li>
<li data-line="1" dir="auto"><code>/quit</code>: pour fermer l'interface.</li>
</ul></div><div class="el-p"><p dir="auto">D'abord avec 2 philosophes : </p></div><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded">/add <span class="token number">2</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto"><span alt="Capture d’écran 2025-02-12 à 19.47.24.png" src="Capture d’écran 2025-02-12 à 19.47.24.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Capture d’écran 2025-02-12 à 19.47.24.png" src="_assets_/capture-d’écran-2025-02-12-à-19.47.24.png"></span></p></div><div class="el-p"><p dir="auto">Chaque philosophe tentera de se connecter correctement au processus serveur pour envoyer une requête de création de philosophe, et le serveur envoi une réponse en retour pour lui donner son identifiant (<a data-href="3.5. Ajout de philosophes" href="3.-fonctionnement/3.5.-ajout-de-philosophes.html" class="internal-link" target="_self" rel="noopener nofollow">3.5. Ajout de philosophes</a>).</p></div><div class="el-p"><p dir="auto">Le nombre de philosophes côté interface clients est bien passé à deux et le nombre de places restantes à 5.</p></div><div class="el-p"><p dir="auto">Dans les logs serveur ouverts précédemment, on peut voir ceci : </p></div><div class="el-p"><p dir="auto"><span alt="Capture d’écran 2025-02-12 à 21.20.57.png" src="Capture d’écran 2025-02-12 à 21.20.57.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Capture d’écran 2025-02-12 à 21.20.57.png" src="_assets_/capture-d’écran-2025-02-12-à-21.20.57.png"></span></p></div><div class="el-p"><p dir="auto">Ce qui permet de constater de voir globalement comment les ressources sont utilisées et la création des baguettes et leurs adresses mémoire.</p></div><div class="el-p"><p dir="auto">Côté terminal principal du serveur : </p></div><div class="el-p"><p dir="auto"><span alt="Capture d’écran 2025-02-12 à 21.21.46.png" src="Capture d’écran 2025-02-12 à 21.21.46.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Capture d’écran 2025-02-12 à 21.21.46.png" src="_assets_/capture-d’écran-2025-02-12-à-21.21.46.png"></span></p></div><div class="el-p"><p dir="auto">Nous sommes informés que des connexions clients ont bien été acceptées, et que le thread de log associé au processus enfant du philosophe est bien disponible via la commande donnée. Puis le serveur reste à l'écoute de nouvelles connexions.</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Lire les logs des philosophes" dir="auto" class="heading" id="Lire_les_logs_des_philosophes"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Lire les logs des philosophes</h2><div class="heading-children"><div class="el-hr"><hr></div><div class="el-p"><p dir="auto">Avec deux philosophes seulement pour l'instant, la lecture des actions et du bon déroulement de la synchronisation sera plus facile.</p></div><div class="el-p"><p dir="auto">Dans deux des 5 consoles préparées, lancer les deux commandes <code>tail</code> données par le serveur lors de la création des clients en faisant un copié-collé&nbsp;: </p></div><div class="el-p"><p dir="auto"><span alt="Capture d’écran 2025-02-12 à 21.30.51.png" src="Capture d’écran 2025-02-12 à 21.30.51.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Capture d’écran 2025-02-12 à 21.30.51.png" src="_assets_/capture-d’écran-2025-02-12-à-21.30.51.png"></span></p></div><div class="el-p"><p dir="auto"><span alt="Capture d’écran 2025-02-12 à 21.33.53.png" src="Capture d’écran 2025-02-12 à 21.33.53.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Capture d’écran 2025-02-12 à 21.33.53.png" src="_assets_/capture-d’écran-2025-02-12-à-21.33.53.png"></span></p></div><div class="el-p"><p dir="auto">Chaque seconde, le client envoi une requête de mise à jour au serveur qui prend en compte son état et le log. Si un philosophe a fini de penser, il reste en attente d'une réponse du serveur pour pouvoir manger.</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Quelques tests" dir="auto" class="heading" id="Quelques_tests"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Quelques tests</h2><div class="heading-children"><div class="el-hr"><hr></div><div class="el-p"><p dir="auto">Maintenant, il est possible d'ajouter autant de philosophes que souhaité tant que la limite n'est pas atteinte, et de visualiser leurs logs dans les autres terminaux.</p></div><div class="el-p"><p dir="auto">Lorsqu'elle est atteinte, ou en cas d'un <code>/add</code> trop bas ou trop élevé par rapport ce que la console affiche, ou d'une commande qui n'existe pas, un warning sera envoyé : </p></div><div class="el-p"><p dir="auto"><span alt="Capture d’écran 2025-02-12 à 21.44.51.png" src="Capture d’écran 2025-02-12 à 21.44.51.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Capture d’écran 2025-02-12 à 21.44.51.png" src="_assets_/capture-d’écran-2025-02-12-à-21.44.51.png"></span></p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Quitter le programme" dir="auto" class="heading" id="Quitter_le_programme"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Quitter le programme</h2><div class="heading-children"><div class="el-hr"><hr></div><div class="el-p"><p dir="auto">La commande <code>/quit</code>permet de quitter le programme, mais <code>Ctrl</code> + <code>C</code>peut aussi être utilisé.</p></div><div class="el-p"><p dir="auto">Quelle que soit la manière dont sont interrompus les clients ou le serveur, le serveur gère la destruction des ressources en les centralisant dans une structure <a href="doxygen/_server_context_8h.html" target="_blank" rel="noopener nofollow">ServerContext</a> (voir <a data-href="3.1. Aperçu global" href="3.-fonctionnement/3.1.-aperçu-global.html" class="internal-link" target="_self" rel="noopener nofollow">3.1. Aperçu global</a>).</p></div><div class="el-p"><p dir="auto"><span alt="Capture d’écran 2025-02-13 à 13.01.40.png" src="Capture d’écran 2025-02-13 à 13.01.40.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Capture d’écran 2025-02-13 à 13.01.40.png" src="_assets_/capture-d’écran-2025-02-13-à-13.01.40.png"></span></p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Supprimer les files de messages et segment mémoire partagée" dir="auto" class="heading" id="Supprimer_les_files_de_messages_et_segment_mémoire_partagée"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Supprimer les files de messages et segment mémoire partagée</h2><div class="heading-children"><div class="el-hr"><hr></div><div class="el-p"><p dir="auto">Le serveur est développé de manière à correctement libérer toutes les ressources des mécanismes IPC, même en cas d'interruption soudaine.</p></div><div class="el-p"><p dir="auto">Mais en cas de problème particulier ou inattendu, utiliser la commande suivante depuis la racine du projet pour exécuter le script <code>remove_ipcs.sh</code>: </p></div><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded"><span class="token function">sh</span> remove_ipcs.sh
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="mod-footer mod-ui"></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div class="tree-container mod-root nav-folder tree-item outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area tree-item-children nav-folder-children"><div class="tree-item mod-tree-folder nav-folder mod-collapsible is-collapsed" style="display: none;"></div><div class="tree-item" data-depth="1"><a class="tree-link" href="2.-utilisation.html#2. Utilisation"><div class="tree-item-contents heading-link" heading-name="2. 
Utilisation
"><span class="tree-item-title">2. 
Utilisation
</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="2"><a class="tree-link" href="2.-utilisation.html#Préparation"><div class="tree-item-contents heading-link" heading-name="Préparation"><span class="tree-item-title">Préparation</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="2.-utilisation.html#Démarrer_le_serveur"><div class="tree-item-contents heading-link" heading-name="Démarrer le serveur"><span class="tree-item-title">Démarrer le serveur</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="2.-utilisation.html#Visionner_les_logs_serveur"><div class="tree-item-contents heading-link" heading-name="Visionner les logs serveur"><span class="tree-item-title">Visionner les logs serveur</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="2.-utilisation.html#Démarrer_le_client_principal"><div class="tree-item-contents heading-link" heading-name="Démarrer le client principal"><span class="tree-item-title">Démarrer le client principal</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="2.-utilisation.html#Ajouter_des_philosophes"><div class="tree-item-contents heading-link" heading-name="Ajouter des philosophes"><span class="tree-item-title">Ajouter des philosophes</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="2.-utilisation.html#Lire_les_logs_des_philosophes"><div class="tree-item-contents heading-link" heading-name="Lire les logs des philosophes"><span class="tree-item-title">Lire les logs des philosophes</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="2.-utilisation.html#Quelques_tests"><div class="tree-item-contents heading-link" heading-name="Quelques tests"><span class="tree-item-title">Quelques tests</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="2.-utilisation.html#Quitter_le_programme"><div class="tree-item-contents heading-link" heading-name="Quitter le programme"><span class="tree-item-title">Quitter le programme</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="2.-utilisation.html#Supprimer_les_files_de_messages_et_segment_mémoire_partagée"><div class="tree-item-contents heading-link" heading-name="Supprimer les files de messages et segment mémoire partagée"><span class="tree-item-title">Supprimer les files de messages et segment mémoire partagée</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>